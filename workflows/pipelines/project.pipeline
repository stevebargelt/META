name: project
description: End-to-end new project kickoff and build orchestration
timeout_min: 90

# NUM | AGENT | CLI | GATE | PARALLEL_GROUP | TIMEOUT_MIN | PROMPT
0 | base            | -           | auto | - | 5  | Preflight check: Run META/scripts/preflight-gate.sh --project . (or parent if not yet bootstrapped). Report any failures in .handoff.md. If blockers exist, stop and explain what needs to be fixed.
1 | base            | interactive | auto | - | 45 | Run kickoff using ../META/prompts/kickoff.md (adjust path if needed). Ask questions in the tmux step window, write AGENTS.md, ensure CLAUDE.md is a symlink, and summarize answers in .handoff.md. Exit the session when done.
2 | base            | interactive | auto | - | 30 | External services setup + info discovery. Read .handoff.md and confirm external integrations (e.g., Supabase). Identify required external info (API keys, URLs, project refs) and ask early. If any, ask for setup details, create/update .env.example and a setup note in docs/SETUP.md. Use META/prompts/external-service-setup-checklist.md. If none, note "no external services" in .handoff.md. Exit when complete.
3 | product-manager | - | auto | - | 45 | Create docs/PRD.md from kickoff answers in .handoff.md. Update .handoff.md with scope and open questions.
4 | architect       | - | gate | - | 45 | Design architecture from PRD. Create ARCHITECTURE.md and update .handoff.md with decisions.
5 | orchestrator    | - | gate | - | 45 | Create a build plan and write it to .meta/next.pipeline using the pipeline format in ../META/plans/meta-cli-orchestration.md (adjust path if needed). Include name/description/timeout_min and sequential step numbers starting at 1. Use only these agent names: base, product-manager, architect, tester, reviewer, debugger, documenter, orchestrator. If you plan any PARALLEL_GROUPs: (1) add a contract stub step before parallel work (use META/prompts/contract-stub.md), (2) add a build validation step after each parallel group completes (`npm run build && npm test` at workspace root to catch integration issues early). Identify independent workstreams and assign PARALLEL_GROUP labels. If no parallelism is safe, explain why in .handoff.md. Include a Definition-of-Done checklist step (use META/prompts/definition-of-done-checklist.md) with a gate near the end. Include a final quality gate step that runs META/scripts/quality-gate.sh (this replaces separate openapi-validation, observability-validation, and test-execution steps). Update .handoff.md with the plan summary.
