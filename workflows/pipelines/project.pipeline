name: project
description: End-to-end new project kickoff and build orchestration
timeout_min: 90

# NUM | AGENT | CLI | GATE | PARALLEL_GROUP | TIMEOUT_MIN | PROMPT
1 | base            | -           | auto | - | 5  | Preflight check: Run META/scripts/preflight-gate.sh --project . (or parent if not yet bootstrapped). Report any failures in .meta/handoff.md. If blockers exist, stop and explain what needs to be fixed.
2 | base            | interactive | auto | - | 45 | Run kickoff using ../META/prompts/kickoff.md (adjust path if needed). Ask questions in the tmux step window, write AGENTS.md, ensure CLAUDE.md is a symlink, and summarize answers in .meta/handoff.md. Exit the session when done.
3 | base            | interactive | auto | - | 30 | External services setup + info discovery. Read .meta/handoff.md and confirm external integrations (e.g., Supabase). Identify required external info (API keys, URLs, project refs) and ask early. If any, ask for setup details, create/update .env.example and a setup note in docs/SETUP.md. Use META/prompts/external-service-setup-checklist.md. If none, note "no external services" in .meta/handoff.md. Exit when complete.
4 | product-manager | - | auto | - | 45 | Create docs/PRD.md from kickoff answers in .meta/handoff.md. Update .meta/handoff.md with scope and open questions.
5 | architect       | - | gate | - | 45 | Design architecture from PRD. Create docs/ARCHITECTURE.md and update .meta/handoff.md with decisions.
6 | orchestrator    | - | gate | - | 45 | Create a build plan and write it to .meta/next.pipeline. CRITICAL FORMAT: Each step line MUST have exactly 7 pipe-separated fields: NUM \| AGENT \| CLI \| GATE \| PARALLEL_GROUP \| TIMEOUT_MIN \| PROMPT. Example: `1 \| base \| - \| auto \| - \| 15 \| Your prompt here`. CLI is usually `-` (non-interactive) or `interactive`. GATE is `auto` or `gate`. Include name/description/timeout_min header and sequential step numbers starting at 1. Use only these agent names: base, product-manager, architect, tester, reviewer, debugger, documenter, devops-engineer, orchestrator. If you plan any PARALLEL_GROUPs: (1) add a contract stub step before parallel work (use META/prompts/contract-stub.md), (2) add a build validation step after each parallel group completes (`npm run build && npm test` at workspace root to catch integration issues early). Identify independent workstreams and assign PARALLEL_GROUP labels. If no parallelism is safe, explain why in .meta/handoff.md. REQUIRED: Include a devops-engineer step after implementation to set up CI/CD pipelines, deployment workflows (Vercel/Supabase), and observability (Sentry/PostHog). Include a Definition-of-Done checklist step (use META/prompts/definition-of-done-checklist.md) with a gate near the end. Include a final quality gate step that runs META/scripts/quality-gate.sh. Update .meta/handoff.md with the plan summary.
